<div class="spacer">
<div ng-class="{formFocus:loader}"> 
<table class="contentTitle" summary="layout" width="100%" border="0">
	<tbody><tr>
		<td scope="col" align="left">
			<h1>Advanced Sample Search</h1>
		</td>
		
			<td width="30%" align="right">
  

	<a class="helpText" href="#/searchSample">Basic Search</a>
	&nbsp;
  
<a class="helpText" href="javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/Managing+Samples+in+caNanoLab#ManagingSamplesincaNanoLab-AdvSearchSample')">Help</a>
&nbsp;				
		
  
<a class="helpText" href="javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/caNanoLab+Glossary')">Glossary</a>
&nbsp;

			</td>
		
	</tr>
</tbody></table>
<br>
<br>

	
<span style="font-family:Arial,Helvetica,sans-serif;font-size:16px;color:red;align-content: center;">
    <ul>
        <li ng-repeat="msg in message">
            {{msg}}
        </li>
    </ul>
</span>	

	<table class="submissionView" width="100%" align="center">
		<tbody><tr>
			<th scope="col">
				Sample Criteria
			</th>
		</tr>
		<tr ng-show="searchSampleForm.sampleQueries.length">
			<td>
				<table id="sampleQueryTable" class="editTableWithGrid" summary="layout" width="85%">
					<tbody id="sampleQueryRows">
						<tr id="samplePattern" ng-repeat="sample in searchSampleForm.sampleQueries">
							<td>
								<span id="nameTypeValue">{{sample.nameType}}</span>
							</td>
							<td>
								<span id="sampleOperandValue">{{sample.operand}}</span>
							</td>
							<td>
								<span id="nameValue">{{sample.name}}</span>
							</td>
							<td>
								<button class="btn btn-primary btn-xs" type="button" id="sampleEdit" ng-click="editSampleCriteria(sample)">Edit</button>
							</td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table id="newSampleQuery" style="display: block;" class="promptbox" summary="layout">
					<tbody><tr>
						<td>

							<label for="nameType" aria-label="Sample Criteria Select">
							<select ng-model="theSampleQuery.nameType" name="theSampleQuery.nameType" ng-init="theSampleQuery.nameType=''" id="nameType"><option value="">
									-- Please Select --
								</option>
								<option value="sample name">
									sample name
								</option>
								<option value="point of contact name">
									point of contact name
								</option></select></label>
						</td>
						<td>
						    <label for="sampleOperand" aria-label="Sample Criteria Select for Contains or Equals">
							<select ng-model="theSampleQuery.operand" name="theSampleQuery.operand" ng-init="theSampleQuery.operand=''" id="sampleOperand"><option value="">
									-- Please Select --
								</option>
								<option value="contains">contains</option>
								<option value="equals">equals</option></select></label>
						</td>
						<td>
						    <label for="name" aria-label="Criteria Freeform">
							<input ng-model="theSampleQuery.name" name="theSampleQuery.name" size="50" value="" id="name" type="text"></label>
						</td>
					</tr>
					<tr>
						<td colspan="3">
							<table summary="layout" cellspacing="0" align="left">
								<tbody><tr>
									
									<td>
										<button class="btn btn-primary btn-xs" id="sampleAdd" ng-click="updateSampleCriteria()" ng-disabled="!theSampleQuery.nameType||!theSampleQuery.operand||!theSampleQuery.name">Add</button>	
									</td>
									<td>
										<button class="btn btn-danger btn-xs" id="sampleReset" ng-click="clearSampleQuery();">Reset</button>
									</td>
									<td>
										<button class="btn btn-danger btn-xs" id="sampleRemove" ng-show="!isNewSample"  ng-click="removeSample();">Delete</button>
									</td>
								</tr>
							</tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td>
		</tr>
		<tr ng-if="searchSampleForm.sampleQueries.length>1">
			<td>
				<div id="sampleLogicalOperator">
					<input name="searchSampleForm.sampleLogicalOperator" value="and" ng-model="searchSampleForm.sampleLogicalOperator" id="sampleLogicalOperatorAnd" type="radio">
					<label for="sampleLogicalOperatorAnd">AND</label>
					<input name="searchSampleForm.sampleLogicalOperator" value="or" ng-model="searchSampleForm.sampleLogicalOperator" id="sampleLogicalOperatorAnd" type="radio">
					<label for="sampleLogicalOperatorOr">OR</label>
				</div>
			</td>
		</tr>
	</tbody></table>
	<br>
	<table class="submissionView" width="100%" align="center">
		<tbody><tr>
			<th scope="col">
				Composition Criteria
			</th>
		</tr>
		<tr ng-show="searchSampleForm.compositionQueries.length">
			<td>
				<table id="compositionQueryTable" class="editTableWithGridComposition" summary="layout" width="85%">
					<tbody id="compositionQueryRows">
						<tr id="compPattern" ng-repeat="composition in searchSampleForm.compositionQueries">
							<td width="25%">
								<span id="compTypeValue">{{composition.compositionType}}</span>
							</td>
							<td width="20%">
								<span id="entityTypeValue">{{composition.entityType}}</span>
							</td>
							<td width="20%">
								<span id="compOperandValue">{{composition.operand}}</span>
							</td>
							<td width="20%">
								<span id="chemicalNameValue">{{composition.chemicalName}}</span>
							</td>
							<td>
								<button class="btn btn-primary btn-xs" typ="button" id="compositionEdit" ng-click="editCompositionCriteria(composition)">Edit</button>
							</td>
						</tr></tbody>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table id="newCompositionQuery" style="display: block;" class="promptbox" summary="layout">
					<tbody><tr>
						<td>
							<label for="compType" aria-label="Composition Select">
							<select name="theCompositionQuery.compositionType" ng-model="theCompositionQuery.compositionType" ng-change="setCompositionEntityOptions();" id="compType"><option value="">
									-- Please Select --
								</option>
								<option value="nanomaterial entity">
									nanomaterial entity
								</option>
								<option value="functionalizing entity">
									functionalizing entity
								</option>
								<option value="function">
									function
								</option></select></label>
						</td>
						<td>
							<label for="entityType" aria-label="Entity Type Select">
							<select ng-options="option for option in entityTypes" ng-model="theCompositionQuery.entityType" id="entityType">
								<option value="">
									-- Please Select --
								</option>
							</select></label>
						</td>
						<td class="cellLabel" ng-show="theCompositionQuery.compositionType != 'function'">
							<span id="compChemicalNameLabel"><label>with chemical name</label></span>
						</td>
						<td ng-show="theCompositionQuery.compositionType != 'function'">
							<label for="compOperand" aria-label="Composition Select Contains/Equals">
							<select name="theCompositionQuery.operand" ng-model="theCompositionQuery.operand" id="compOperand" ><option value="">
									-- Please Select --
								</option>
								<option value="contains">contains</option>
								<option value="equals">equals</option>
							</select></label>
						</td>
						<td ng-show="theCompositionQuery.compositionType != 'function'">
							<label for="chemicalName" aria-label="Chemical Name Freeform"><input name="theCompositionQuery.chemicalName" ng-model="theCompositionQuery.chemicalName" size="50" value="" id="chemicalName" type="text"></label>
						</td>
					</tr>
					<tr>
						<td colspan="5">
							<table summary="layout" cellspacing="0" align="left">
								<tbody><tr>
									<td>
										<button 
											id="compositionAdd" 
											class="btn btn-primary btn-xs"
											ng-click="updateCompositionCriteria()" 
											ng-disabled="!theCompositionQuery.compositionType||!theCompositionQuery.entityType"
											>
											Add
										</button>	
									</td>
									<td>
										<button 
											id="compositionReset" 
											class="btn btn-danger btn-xs promptButton" 
											ng-click="clearCompositionQuery();"
											>Reset
										</button>
									</td>
									<td>
										<button 
											id="compositionRemove" 
											ng-show="!isNewComposition" 
											class="btn btn-danger btn-xs promptButton" 
											ng-click="removeComposition();"
											>
											Delete
										</button>
									</td>
								</tr>
							</tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td>
		</tr>
		<tr ng-if="searchSampleForm.compositionQueries.length>1">
			<td>
				<div id="compositionLogicalOperator" role="radiogroup" aria-label="Sample Search">
					<input name="searchSampleForm.compositionLogicalOperator" value="and" ng-model="searchSampleForm.compositionLogicalOperator" id="compositionLogicalOperator" type="radio">
					<label for="compositionLogicalOperatorAnd">AND</label>
					<input name="searchSampleForm.compositionLogicalOperator" value="or" ng-model="searchSampleForm.compositionLogicalOperator" id="compositionLogicalOperator" type="radio">
					<label for="compositionLogicalOperatorOr">OR</label>
				</div>
			</td>
		</tr>
	</tbody></table>
	<br>
	<table class="submissionView" width="100%" align="center">
		<tbody><tr>
			<th scope="col">
				Characterization Criteria
			</th>
		</tr>
		<tr ng-show="searchSampleForm.characterizationQueries.length">
			<td>
				<table id="characterizationQueryTable" class="editTableWithGrid" summary="layout" width="85%">
					<tbody id="characterizationQueryRows">
						<tr id="charPattern" ng-repeat="characterization in searchSampleForm.characterizationQueries">
							<td width="15%">
								<span id="charTypeValue">{{characterization.characterizationType}}</span>
							</td>
							<td width="15%">
								<span id="charNameValue">{{characterization.characterizationName}}</span>
							</td>
							<td width="15%">
								<span id="datumNameValue">{{characterization.datumName}}</span>
							</td>
							<td width="10%">
								<span id="charOperandValue">{{characterization.operand}}</span>
							</td>
							<td width="15%">
								<span id="datumValueValue">{{characterization.datumValue}}</span>
							</td>
							<td>
								<span id="datumValueUnitValue">{{characterization.datumValueUnit}}</span>
							</td>
							<td>
								<button id="characterizationEdit" ng-click="editCharacterizationCriteria(characterization)">Edit</button>
							</td>
						</tr></tbody>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table id="newCharacterizationQuery" style="display: block;" class="promptbox" summary="layout">
					<tbody><tr>
						<td>
							<label for="charType" aria-label="Characterization Criteria Select">
								<select data-ng-model="theCharacterizationQuery.characterizationType"
								data-ng-options="option.value as option.label for option in data.characterizationTypes" id="charType" ng-change="setCharacterizationOptions()">
								<option value="">-- Please Select --</option>
								</select></label>
						</td>
						<td><label for="charName" aria-label="Characterization Criteria Name">
							<select data-ng-options="option.value as option.label for option in characterizationNameList" name="theCharacterizationQuery.characterizationName" ng-change="setDatumNameOptionsByCharName()" data-ng-model="theCharacterizationQuery.characterizationName" id="charName"><option value="">
									-- Please Select --
								</option></select></label>
						</td>
						<td><label for="datumName" aria-label="Characterization Datum Name Select">
							<select name="theCharacterizationQuery.datumName" data-ng-options="option.value as option.label for option in datumNameList" ng-change="setDatumValueUnitOptions()" ng-model="theCharacterizationQuery.datumName" id="datumName"><option value="">
									-- Please Select --
								</option></select></label>
						</td>
						<td ng-show="theCharacterizationQuery.datumName"><label for="charOperand" aria-label="Characterization Select">
							<select ng-model="theCharacterizationQuery.operand" name="theCharacterizationQuery.operand" id="charOperand">
								<option value="">
									-- Please Select --
								</option>
								<option value="=">=</option>
								<option value=">">&gt;</option>
								<option value=">=">&gt;=</option>
								<option value="<">&lt;</option>
								<option value="<=">&lt;=</option>
							</select></label>
						</td>
						<td>
							<div id="datumValueTextBlock" ng-if="theCharacterizationQuery.datumName">
								<label for="datumValue" aria-label="Characterization Criteria Freeform">
								<input ng-model="theCharacterizationQuery.datumValue" name="theCharacterizationQuery.datumValue" size="10" value="" id="datumValue" type="text"></label>
								
							</div>
<!-- 							<div id="datumValueSelectBlock" style="display:none">
								<label for="datumValueSelect">&nbsp;</label>
								<select name="searchBean.theCharacterizationQuery.datumValue" id="datumValueSelect"><option value="">
										-- Please Select --
									</option>
									<option value="1">true</option>
<option value="0">false</option></select>
							</div> -->
						</td>
						<td ng-show="datumUnitOptionsList.length">
							<div id="datumValueUnitBlock">
							    <label for="datumValueUnit" aria-label="Datum Unit Options List">
								<select ng-init="theCharacterizationQuery.datumValueUnit=''" data-ng-options="option for option in datumUnitOptionsList" ng-model="theCharacterizationQuery.datumValueUnit" name="theCharacterizationQuery.datumValueUnit" id="datumValueUnit"><option value=""> -- Please Select --
									</option></select></label>
							</div>
						</td>
					</tr>
					<tr>
						<td colspan="6">
							<table summary="layout" cellspacing="0" align="left">
								<tbody>
								<tr>
									<td>
										<button type="button" class="btn btn-primary btn-xs" id="characterizationAdd" ng-click="updateCharacterizationCriteria()" ng-disabled="!theCharacterizationQuery.characterizationType||!theCharacterizationQuery.characterizationName">Add</button>	
									</td>
									<td>
										<button type="button" id="characterizationReset" class="btn btn-danger btn-xs promptButton" ng-click="clearCharacterizationQuery();">Reset</button>
									</td>
									<td>
										<button type="button" id="characterizationRemove" ng-show="!isNewCharacterization" class="btn btn-danger btn-xs promptButton" ng-click="removeCharacterization();">Delete</button>
									</td>
								</tr>
							</tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td>
		</tr>
		<tr ng-if="searchSampleForm.characterizationQueries.length>1">
			<td>
				<div id="characterizationLogicalOperator" role="radiogroup" aria-label="Sample Search">
					<input name="searchSampleForm.characterizationLogicalOperator" value="and" ng-model="searchSampleForm.characterizationLogicalOperator" id="characterizationLogicalOperator" type="radio">
					<label for="characterizationLogicalOperatorAnd">AND</label>
					<input name="searchSampleForm.characterizationLogicalOperator" value="or" ng-model="searchSampleForm.characterizationLogicalOperator" id="characterizationLogicalOperator" type="radio">
					<label for="characterizationLogicalOperatorOr">OR</label>
				</div>
			</td>
		</tr>
	</tbody></table>
	<br>
	<table class="submissionView" summary="layout" style="border: 0" width="100%" align="center">
		<tbody><tr>
			<td>
				<div id="logicalOperator" style="display: block" role="radiogroup" aria-label="Sample Search">
					<input name="searchSampleForm.logicalOperator" ng-model="searchSampleForm.logicalOperator" value="and" id="masterLogicalOperatorAnd" type="radio">
					<label for="masterLogicalOperatorAnd">AND</label>
					<input name="searchSampleForm.logicalOperator" ng-model="searchSampleForm.logicalOperator" value="or" id="masterLogicalOperatorOr" type="radio">
					<label for="masterLogicalOperatorOr">OR</label>
				</div>
			</td>
		</tr>
	</tbody></table>
	<br>

	<div class="form__actions">
		<div align="center">
			<span class="formMessage"> <em>Searching without any
					parameters returns all samples.</em> </span>
		</div>
		<div class="form__action__right">
			<button class="btn btn-danger" type="button" id="reset" ng-click="resetForm()">Reset</button>
			<button class="btn btn-primary" type="button" id="search" ng-disabled="" ng-click="search()">Search</button>	
		</div>
	</div>
</div>
<div id="loader" ng-show="loader">
	<div id="loaderText">
		Loading
	</div>
	<div id="loaderGraphic"></div>
</div>	
</div>