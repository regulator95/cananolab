<div class="spacer">
  <div ng-class="{formFocus:loader}">
    <table border="0" class="contentTitle" summary="layout" width="100%">
        <tr>
            <td align="left"><h1>Publication Search</h1></td>

            <td align="right" width="30%">
                <a class="helpText" href=
                "javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/Managing+Publications+in+caNanoLab#ManagingPublicationsincaNanoLab-SearchPublications')">
                Help</a> &nbsp; <a class="helpText" href=
                "javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/caNanoLab+Glossary')">
                Glossary</a> &nbsp;
            </td>
        </tr>
    </table><br>

<table width="100%" align="center" class="submissionView" summary="layout">
        <tr>
            <td class="cellLabel" width="15%">
                <label for="publicationCategory">Publication Type</label>
            </td>
            <td colspan="2">
                <select id="publicationCategory" ng-disabled="loader" ng-model="searchPublicationForm.category" name="category" ng-change="displayPubMed()"><option ng-repeat="category in data.publicationCategories" value="{{category}}">{{category}}</option>
                </select>
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label>Research Category</label>
            </td>
            <td colspan="2">
                    <label style="padding-left:1px;padding-right:10px;" for="researchArea" aria-label="Research Area"><input ng-repeat-start="(key,val) in researchArea track by $index" ng-disabled="loader" ng-model="researchArea[key]" type="checkbox" id="researchArea"><span style="padding-left:1px;padding-right:10px;" ng-repeat-end>{{key}}</span></label>
                    </td>
        </tr>
        <tr id="pubMedRow" ng-hide="pubMed">
            <td class="cellLabel">
                <label for="pubMedId">PubMed ID</label>
            </td>
            <td colspan="2">
                <input type="text" ng-disabled="loader" name="pubMedId" size="30" value="" id="pubMedId" ng-model="searchPublicationForm.pubMedId">
                <em>exact match</em>
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label for="digitalObjectId">Digital Object ID</label>
            </td>
            <td colspan="2">
                <input type="text" ng-disabled="loader" name="digitalObjectId" size="30" value="" id="digitalObjectId" ng-model="searchPublicationForm.digitalObjectId">
                <em>exact match</em>
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label for="title">Publication Title</label>
            </td>
            <td colspan="2" style="padding-left:7px;">
                <table class="invisibleTable" summary="layout">
                    <tr>
                        <td><label for="titleOperand" for="pubSelect" aria-label="Title Contains Select">
                            <select name="titleOperand" ng-init="searchPublicationForm.titleOperand='contains'" ng-model="searchPublicationForm.titleOperand" id="titleOperand" ng-disabled="loader" id="pubSelect">                   <option value="contains">
                                contains
                            </option>

                            <option value="equals">
                                equals
                            </option>
                        </select></label>
                        </td>
                        <td align="left">
                            <input type="text" name="title" size="61" value="" id="title" ng-model="searchPublicationForm.title" ng-disabled="loader">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label for="authorsStr">Authors</label>
            </td>
            <td colspan="2">
                <textarea name="authorsStr" ng-disabled="loader" ng-model="searchPublicationForm.authorsStr" cols="77" rows="3" id="authorsStr"></textarea>
                <br />
                <em>enter one author per line</em>
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label for="keywordsStr">Keywords</label>
            </td>
            <td colspan="2">
                <textarea name="keywordsStr" ng-disabled="loader" ng-model="searchPublicationForm.keywordsStr" cols="77" rows="3" id="keywordsStr"></textarea>
                <br />
                <em>enter one keyword per line</em>
            </td>
        </tr>
    </table>
    <br>
    <table width="100%" align="center" class="submissionView" summary="layout">
        <tr>
            <td class="cellLabel">
                <label for="sampleName">Sample Name</label>
            </td>
            <td valign="top"  align="left" colspan="5">
                <label for="nameOperand" aria-label="name operand">
                <select name="nameOperand" id="nameOperand" ng-init="searchPublicationForm.nameOperand='contains'" ng-disabled="loader" ng-model="searchPublicationForm.nameOperand">                            
                    <option value="contains">
                                contains
                            </option>

                            <option value="equals">
                                equals
                            </option>
                        </select></label>&nbsp;&nbsp;&nbsp;
                <input type="text" name="sampleName" ng-disabled="loader" ng-model="searchPublicationForm.sampleName" size="80" value="" id="sampleName">
            </td>
        </tr>
        <tr>
            <td class="cellLabel">
                <label for="nanomaterialEntityTypes">Composition
                <br>
                Nanomaterial Entity</label>
            </td>
            <td>
                <select name="nanomaterialEntityTypes" ng-disabled="loader" ng-model="searchPublicationForm.nanomaterialEntityTypes" multiple="multiple" size="4" id="nanomaterialEntityTypes"><option ng-repeat="option in data.nanomaterialEntityTypes" value="{{option}}">{{option}}</option>
            </td>
            <td class="cellLabel">
                <label for="functionalizingEntityTypes">Composition
                <br>
                Functionalizing Entity</label>
            </td>
            <td>
                <select name="functionalizingEntityTypes" ng-disabled="loader" ng-model="searchPublicationForm.functionalizingEntityTypes" multiple="multiple" size="3" id="functionalizingEntityTypes"><option ng-repeat="option in data.functionalizingEntityTypes" value="{{option}}">{{option}}</option>


            </td>
            <td class="cellLabel">
                <label for="functionTypes">Function</label>
            </td>
            <td>
                <select name="functionTypes" ng-disabled="loader" ng-model="searchPublicationForm.functionTypes" multiple="multiple" size="3" id="functionTypes"><option ng-repeat="option in data.functionTypes" value="{{option}}">{{option}}</option>
            </td>
        </tr>
    </table>
    <br>
    
    
<div class="form__actions">
    <div align="center">
        <span class="formMessage"> <em>Searching without any
                parameters returns all publications.</em> </span>
    </div>
    <div class="form__action__right">
        <button class="btn btn-danger" type="reset" ng-click="resetForm()" ng-disabled="loader">Reset</button>&nbsp;
        <button class="btn btn-primary" type="submit" ng-click="doSearch()" ng-disabled="loader">Search</button>
        <input ng-disabled="loader" name="page" type="hidden" value="1">
    </div>
</div>
<div style="font-family:Arial,Helvetica,sans-serif;font-size:16px;color:red;" "ng-if="message">{{message}}</div>
  <div id="loader" ng-show="loader">
    <div id="loaderText">
      Loading
    </div>
    <div id="loaderGraphic"></div>
  </div>
</div> 